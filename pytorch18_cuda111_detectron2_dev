from pytorch/pytorch:1.8.1-cuda11.1-cudnn8-devel
RUN pip install opencv-python einops matplotlib jpeg4py \
        tqdm timm pyyaml yacs easydict tensorboardX
RUN apt-get update && apt-get -y install libgl1
RUN apt-get update -y && apt install -y build-essential
RUN apt-get install -y libglib2.0-0
RUN python -m pip install scipy Pillow pandas
RUN apt-get update -y && apt-get install -y libglib2.0-0 git vim fish
RUN mkdir git_intstalled_lib
WORKDIR /workspace/git_intstalled_lib
RUN pip install git+https://github.com/microsoft/ComputerVision.git@master#egg=utils_cv
RUN python -m pip install decord albumentations
RUN python -m pip uninstall -y typing
RUN python -m pip install 'git+https://github.com/facebookresearch/detectron2.git'
WORKDIR /workspace/git_intstalled_lib/
RUN git clone --depth 1 https://gitlab.kitware.com/cmake/cmake.git
RUN apt-get install -y libssl-dev
WORKDIR /workspace/git_intstalled_lib/cmake/
RUN ./bootstrap --parallel=8 && make -j8 && make install
RUN python -m pip install pytorch-lightning
WORKDIR /workspace/  
